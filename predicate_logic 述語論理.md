# 述語論理 (predicate logic)
構造を明らかにしたうえで,文と文との結びつきを明らかにしその妥当性を決定したり,新たなトートロジーの導出をおこなったりするのが命題論理学と区別して述語論理学と呼ばれている.
### 参考文献
1) 戸川, 中嶋, 杉原, 野寺:『[インターネット時代の数学](http://amzn.to/1KpdK1i)』共立出版, 1997.
***
# 6.3.2 述語論理 (predicate logic)

## 述語論理 (predicate logic) の原子式
$\wedge, \vee, \rightarrow, \neg$ などのつかない, 述語とその引数だけの式
***
集合の前提として要素があったように, 述語論理 (predicate logic) の前提として, "もの" と, それらの間の"関係" がある.

たとえば特定の物体 "box1" の "color" が特定の色 "red1" であるという関係を
$$ color(box1, red1)$$
のように表す.

特別な場合として, $0$ 項関係や $1$ 項関係があり  
$0$ 項関係は"もの"に言及することなく成立するし,  
$1$ 項関係は一つの"もの"だけで成立する.

$1$ 項関係の例はdogやflyなどで, 分類(classification)とよばれることもある.

述語論理 (predicate logic) が有用なのは"もの"を表す対称変数が使えること.

たとえば
$x$ を変数, $a$ を定数だとすると
$$on(x, a)$$

という式は何か $x$ が $a$ の上(on)にあるという風に読める.

これだけでは式の真偽値を決めることができない.  
述語論理 (predicate logic) が面白いのはこれらの変数に限定子をつけて, 変数の範囲を明示できるからである.  
これを使うことにより,  
"すべてのカナリヤは鳥である"  

$$ \forall x.canary(x) \rightarrow bird(x)$$

というような記述が可能になる.  

$$ \forall x \exists y.loves(x, y) $$

という式は
$$ \forall x.( \exists y.loves(x, y)) $$
と同じ. For all x exists y such that loves(x, y)  
すべての $x$ に対し, $loves(x, y)$ という述語を満たす, (別々の) $y$ が存在する  
という文.  

また
$$ \exists y \forall x.loves(x, y) $$
という式は  
ある一定の $y$ が存在し, すべての $x$ に対し $loves(x, y)$ という述語を満たすという文になる.

> 論理記号 $\forall, \exists$ は、基本的には  
論理記号 変項.述語(命題関数)  
というかたちのなかで、用いられる
http://www.ne.jp/asahi/search-center/internationalrelation/mathWeb/meidai/Exist.htm

# 6.3.3 推論

## 推論規則
演繹に使われる規則のこと. 通常は横棒の上側に最初の論理式 $p$, 下側にそれから導ける論理式 $q$ を書き,

$$ \frac{p}{q} $$
のように表す. 下辺は上辺の論理的帰結.

たとえば

$$ \frac{p, ~p \rightarrow q}{q} $$

は命題論理(propositional logic) の (通常, 三段論法とよばれる)推論規則.  
$p$ という論理式と $p \rightarrow q$ という論理式から $q$ という論理式が導けることを示している.

また, よく使われる推論に以下のものがある.

$$ \frac{\forall x.p(x)}{p(a)} $$

すべての $x$ に関して $p$ が成立するなら, それは任意の定数 $a$ に対しても $p$ が成立する, というもの.  

実際にはこれが単独で使われることは少なく, 上記の三段論法と組み合わされる.  

$$ \frac{ canary(Tweety)\frac{\forall x. canary(x) \rightarrow fly(x)}{canary(Tweety) \rightarrow fly(Tweety)}} {fly(Tweety)} $$


$canary(Tweety)$ [Tweety という canary] という論理式と

$\forall x. canary(x) \rightarrow fly(x)$ [すべての canary は飛ぶ] という論理式から  
$canary(Tweety) \rightarrow fly(Tweety)$ [Tweety という canary ならば Tweety は飛ぶ] という論理式から

$fly(Tweety)$ [Tweety は飛ぶ] という論理式が導けることを示している.  

# 6.3.5 証明

定理を求める具体的な計算手続きが必要である.  

## 半決定性
述語論理 (predicate logic) の限定子を含む式に関しては, このような一般的な手続きが存在しないことが証明されている.詳しく言うと,  
定理を与えれば止まる手続きは存在するが, 定理でない式を与えた場合には止まらないかもしれない.このような性質のこと

# 6.3.6 統合 (resolution)

推論規則
$$ \frac{ \Delta \rightarrow \Gamma, p ~~ p,   \Lambda \rightarrow \Theta}{\Delta, \Lambda \rightarrow \Gamma, \Theta} $$

これ自体は $p$ を仲立ちとして推論していくもので, この $\Delta, \Lambda, \Gamma$ が空の場合が三段論法
$$ \frac{ \rightarrow p ~~ p \rightarrow \Theta}{\rightarrow \Theta} $$
に相当. $p$ と $\rightarrow p$ は等価であり, どちらの場合も, 下辺は上辺の論理的帰結になっている.
## 単一化 (unification)
$P$ と $P \prime$ の変数に適当な値を代入したり, 別の変数で置き換えることにより(どちらも置換)同じ形にする操作のこと
***
置換を $\theta$ のようなギリシャ小文字で表し, 式の後ろに書くことによりその置換を適用した値を示す.  
たとえば

$$\theta = [ x/a, y/b, z/x ]$$
のとき,  
$$ p(x, y, z)\theta = p(a, b, a) $$
$$ q(1, y, z)\theta = p(1, b, a) $$
$$ r(x, y, w)\theta = p(a, b, w) $$

$P\theta = Q\theta$ のとき, 以下の推論規則が成立. つまり以下の推論が論理的に正しいもの.

$$ \frac{ \Delta \rightarrow \Gamma, P ~~~ Q, \Lambda \rightarrow \Theta}{\Delta \theta, \Lambda \theta \rightarrow \Gamma \theta, \Theta \theta} $$
***
### 参考文献
2) 沢田充茂:『[現代論理学入門](http://amzn.to/1KpdK1i)』岩波書店, 1962.
# 述語論理 (predicate logic) 学
p113  
構造を明らかにしたうえで,文と文との結びつきを明らかにしその妥当性を決定したり,新たなトートロジーの導出をおこなったりするのが前節の命題論理(propositional logic) 学と区別して述語論理 (predicate logic) 学と呼ばれている.

p116  
「人間は動物である」の関係を表すのに
$$ 動物(人間)$$
と表示する. そしてこれを記号化して
$$ F(a), Fa$$
と言うように書く. こうすれば  
'a'の位置にくる語(名詞、代名詞等)は主語  
'F'の位置にくる語(名詞、形容詞、動詞等)は述語  
を表すことになる.  
これらの文の形式を **命題関数** と呼ぶ.  

p120 量化  
すべての人間は正直である  
= すべてのxについて(xが人間である ならば xは正直である)
$$= \forall x(Fx \rightarrow Gx)$$  

ある人間は正直である  
= あるxが存在し(xは人間であり そして xは正直である)
$$= \exists x(Fx \land Gx)$$

p131  
* 反対関係
$$\forall x \neg Fx \rightarrow \neg \forall x Fx$$
すべてxはFではない(E)全称否定 ならば すべてのxはFである(A)全称肯定 でない

* 小反対関係  
$$ \neg \exists x Fx \rightarrow \exists x \neg Fx $$
あるxはFである(I)特殊肯定 でない ならば あるxはFでない(O)特殊否定

* 矛盾関係  
$$ \neg \forall x Fx \equiv \exists x \neg Fx $$
すべてのxはFである(A)全称肯定 でない $\equiv$ あるxはFでない(O)特殊否定

$$ \neg \forall x \neg Fx \equiv \exists x Fx $$
すべてxはFではない(E)全称否定 でない $\equiv$ あるxはFである(I)特殊肯定

* 大小関係
$$\forall x Fx \rightarrow \exists x Fx $$
すべてのxはFである(A)全称肯定 ならば あるxはFである(I)特殊肯定

$$\forall x \neg Fx \rightarrow \exists x \neg Fx $$
すべてxはFではない(E)全称否定 ならば あるxはFでない(O)特殊否定

p134
# 伝統的論理学  
日常言語の表現およびそれを前提としている  
主語が指すようなものが必ず存在しているということを前提
# 現代の論理学
日常言語の表現をより基本的な論理構造から構成し解釈しようとする  
主語が指しているようなものが存在しない、すなわち主語に当る基本文が偽である場合の可能性を考慮して理論を組み立てている

p197  
同一率
$$ p  \rightarrow p$$
$p$ で表されたような事態はいつまでも同じではなくて, いつかは$p$でないものになるだろう.  
$p$ は厳密にいうならばある時間 $t_{1}$ における事態を表した命題であり, その時間 $t_{1}$ においては

$$ p_{t_{1}} \rightarrow p_{t_{1}}$$
は, やはり成り立つ.  
もし時の変化とともに事態が $p$ という命題で表せないものに変わったとしたら, 命題 $q$ で表せばいい.

$$ q_{t_{2}} \rightarrow q_{t_{2}}$$
は成り立つ  
また, もし $t_{1}$ に $A$ であったものが $t_{2}$ には $B$ になるということをあらわそうとすれば

$$(x)(Ax_{t_{1}} \rightarrow Bx_{t_{2}})$$
として現わすこともでき, この場合にはこの式は論理的なトートロジーを現わすのではなくて, ある経験的に必然的な命題を表しているのである.
***
### 参考文献
井上 真偽 の [恋と禁忌の述語論理 (predicate logic) ](http://amzn.to/1OnnY3a)

# 充足問題
目的の論理式が真になるよう, 論理式に現れる各命題記号に真か偽かを当てはめていく問題のこと.

次の充足問題を解け

A: 私は風呂場にいる.  
B: 私は蔵にいる.  
C: 私は台所の戸棚の上にいる.  
D: 私は家の中のどこにもいない.  

論理式
$$(\neg C  \Rightarrow B) \wedge \neg(\neg A  \Rightarrow  B) \wedge (D  \Rightarrow (A \wedge C) $$は真である

(私は台所の戸棚の上にいる. でない ならば 私は蔵にいる.) かつ (私は風呂場にいる. でない ならば 私は蔵にいる.)でない かつ (私は家の中のどこにもいない. ならば (私は風呂場にいる. かつ 私は台所の戸棚の上にいる.) は真である.

私は台所の戸棚の上にいなければ, 蔵にいる かつ
風呂場にいない のに 蔵にいない かつ
家の中のどこにもいなければ,風呂場にいて かつ 台所の戸棚の上にいる.

は真である.

$$(\neg C  \Rightarrow B) \wedge \neg A \wedge \neg B \wedge (D  \Rightarrow (A \wedge C))$$

$\neg(\neg A  \Rightarrow  B)$
は
$\neg A  \wedge  \neg B$

同値変形から、∧ を含む論理式を ¬, ∨ だけを含む論理式で表現できるし、
∨ を含む論理式を ¬, ∧ だけを含む論理式で表現できる  
nand | だけで表す事もできるはず

$\vee  \wedge  \forall  \exists  \Leftrightarrow  \leftarrow  \rightarrow  \neg$

p70  
「私が台所の戸棚の上にいないなら私は蔵にいる」  
かつ  
「私が風呂場にいないならば私は蔵にいる, ということはない」  
かつ  
「私が家の中のどこにもいないならば私は風呂場にいてかつ台所の戸棚の上にもいる」

# p71 選言標準形 disjunctive normal form

p72  
証明とは一般に, 何かの正しい証拠から結論を導くこと  
数理論理学の用語では, 公理と推論規則から目的の論理式を導くこと, と表現される.

## 公理
証明の前提となる事実や法則のこと.  
間違った公理からは間違った結論が導かれる

## 推論規則
論理式から他の論理式を導く規則のこと

公理に定義された論理式に推論規則を次々に適用し, 目的の論理式を演繹する.  
それが, 数理論理学における証明のイメージ

公理系には公理と推論規則が必要


## 推論規則の三段論法  
$p$ と $p \rightarrow q$ という2つの論理式があれば, $q$ という論理式を導いていいという書き換えルール.   
modusponens (モーダスポーネンス), 前件肯定の三段論法 などと言われる.
$$ \frac{p, ~p \rightarrow q}{q} $$

# QED // □ ■
(証明終了)
"That was to be proved."

# p76 人は最低限, いくつの公理といくつの推論規則があれば, 論理的な証明が出来るか?

3つの公理, 1つの推論規則

## 公理

A1)
$$p \rightarrow (q \rightarrow p)$$

A2)
$$(p \rightarrow (q \rightarrow r)) \rightarrow ((p \rightarrow q) \rightarrow ( p \rightarrow r)) $$

A3)
$$( \neg p \rightarrow \neg q ) \rightarrow ( q \rightarrow p)$$

## 推論規則
上記の modusponens
$$ \frac{p, ~p \rightarrow q}{q} $$

これは命題論理(propositional logic) のヒルベルト公理系の1つで, 『ウカシュヴィチの公理』呼ばれる.  

もっともここでの$p$や$q$は変数みたいなものだから, 厳密には公理の数というより公理の『タイプ』の数を意味する.

ここに書いたような基本公理を『論理公理』と呼ぶ.  
この『論理公理』に『非論理公理』と呼ばれる様々な個別公理が加わって, いろんな特性を持つ公理系, すなわち『理論』が出来上がる.  

公理から証明された論理式はすべて正しいことを論理学用語で『健全(sound)』  
正しい論理式なら必ず公理から証明できること『完全(complete)』

『ウカシュヴィチの公理』は健全かつ完全な公理系. つまり安心して証明に使える.  
この『健全かつ完全な公理系』は, 実は『ウカシュヴィチの公理』以外にもいくつもある.  
例えば, ゲンツェンという人が考案した『自然演繹』古典論理(classical logic) で『NK』と呼ばれる公理系
『ウカシュヴィチの公理』が1つの推論規則で出来ているのに対し, 『自然演繹』は1つの公理で出来ている.  
このNKは公理が1つしかない代わりに, 推論規則をいっぱい定義する.  
このほうが人間の普通の考え方に近くて『自然』なので, 自然演繹.

# p142 述語論理 (predicate logic)   
命題論理(propositional logic) の個々の名詞を一般化して, 抽象度を上げたもの.

命題論理(propositional logic) の限界  
命題論理(propositional logic) で物事を表すときの問題点  
命題論理(propositional logic) は命題を一個一個の名詞について書くから, 記述がとても多くなる.  
そこでもう少しこの論理を拡張し, 論理の抽象度を上げる.

名詞部分を $x$ とおく.  
$x$ に「ひばりちゃん」と名前が書いてある $\rightarrow x$ は「ひばりちゃん」の持ち物である.

このように, 個々の名詞を$x$で置き換えてしまったのが述語論理 (predicate logic)   
主語や目的語となる名詞を$x$で置き換えたので, 残るのは述語だけ.  
つまり述語のみを対象とした論理だから, 述語論理 (predicate logic) .

ようは, 文章をいちいち繰り返し書くのが面倒なので, 異なる部分だけ$x$に置き換えてしまえ, ということ.

名詞はいくつでも記号に置き換え可能  
次のように書けば, この命題は「ひばりちゃん」だけでなく, 世間一般の人について言及しているルールになる.

# $x$ に $y$ と名前が書いてある $\rightarrow x$ は $y$ の持ち物である.

名詞句に $x$ を使うことで, このルールは「かき氷機」や「ひばりちゃん」といった個々の存在を超え, もっと汎用的なルールとなった.  
つまり論理構造そのものを記述できるようになった.

以上が「述語論理 (predicate logic) 」が「命題論理(propositional logic) 」の抽象度を上げたもの, という意味  
今説明したのが「一階の」述語論理 (predicate logic of first order)  
さらに述語まで変数化すれば「二階の」述語論理 (predicate logic of second order)  
もっと抽象化すればさらに「高階の」述語論理 (predicate logic of higher order)  
高階の述語論理は, 型の理論 (theory of types) とも呼ばれる.

例えば数学で行う証明のほとんどは、一階の述語論理 (predicate logic of first order) で表現可能  
数学の証明のでは, なになにを $x$ とおくと...  
は、名詞格の $x$ への置き換えと一緒

数学の証明は, 一階の述語論理 (predicate logic of first order) と一緒  

e.g.,  
ZF(ツェルメロ=フレンケル)公理系, あるいはそれに「選択公理」を加えたZFC公理系は一階の述語論理 (predicate logic of first order) で記述可能

一階述語論理 (predicate logic of first order)  (predicate logic) が健全かつ完全なことはゲーデルの完全性定理で証明される.  
この完全は前のゲーデルの不完全性定理とは違う意味の完全。

不完全性定理の完全は、どんな論理式でも必ず真偽を証明できるという意味
こっちの完全は論理式が真なら必ず証明できるという意味

# p148 対偶とは
同じことを裏返して言うこと

ならば　論理学用語で含意 implication は他の論理記号と比べ困った問題をはらんでいる  
e.g.,  
* 必然性のパラドックス
偽の命題が前提だと必ず真となってしまう

* 因果関係のパラドックス
時間関係が絡むと有りえない対偶が出てきてしまう

総じて、実質含意のパラドックスと呼ばれる

ここで問題になるのは、カラスのパラドックス　いわゆるヘンペルのカラス

ヘンペルのカラスとは、対偶を使った証明法の危うさを示すために、ドイツの科学哲学者カール・ヘンペルが用いた例のこと

背理法にも対偶は使われるから、これは数学の証明系自体が危うさを含むことの証左に他ならない  
ゆえに論理学の中には、この対偶による証明法そのものを認めない理論もある

# p154 排中律 excluded middle
$$ A  \vee \lnot A$$

ある物事は、AであるかAでないかのどちらか

排中律を自然演繹の公理から消せば対偶の成り立たない公理系ができる  
このような排中律を取り除いた論理は論理学では
# 直観主義論理(intuitonistic logic)   
原語は Anschauung というドイツ語で、見たまま・あるがままという意味

この直観主義と区別する意味で、命題論理(propositional logic) は古典論理(classical logic) と呼ばれる

# p242, 283 バナッハ=タルスキの定理

選択公理というある公理を容認した公理系から導かれる定理の1つ  
認識論的パラドックスを生じさせる事で有名  
この定理によれば  
1つの球からまったく同じ形の球を複製する, といった数学上の操作ができてしまう.  
ZFC公理系のCは選択公理 axiom of Choice のC
***
p261 シークエント計算は数理論理学で頻繁に使う  
ちなみに公理系はいつもの自然演繹で, そのシークエント版のLKという体系を使う

シークエントとはこの $\rightarrow$ を使った式のことで、論理式みたいなもの

この証明図の見方は横線の上から下へ、各シークエントに推論規則のどれかを適用しているだけ

１番上にある各式が始式で、これは公理に定義されたシークエント
そして１番下のが最終的に導かれたシークエント

つまりこの図は、最上段の公理軍から最下段のシークエントが導かれたことを意味する

# 現代の数理論理学 様相論理(modal logic)
可能性を考慮した論理

様相 modality とは, 蓋然性や可能性といった物事や判断の確実性を指す哲学用語

時間の変化によって真偽が変化するような、常に真だと言えない命題も扱えるようにしたのが様相論理(modal logic)   
どんな状況でも絶対に成り立つ事実「必然的」命題と  
ある状況下においてのみ限定的に成り立つ事実「可能的」命題  
を区別して考えようとしたのが様相論理(modal logic) の出発点

つまり様相論理(modal logic) とは可能性を扱える論理

ある命題が真か偽かというだけでなく、どんな状況でも絶対に真か、真になる可能性がある、かを厳密に区別できる論理


様相論理(modal logic) は古典論理(classical logic) の拡張に過ぎない  
直観主義論理(intuitonistic logic) の公理系は、古典論理(classical logic) の公理から排中律という1つの公理を取り除くだけで構築できた

様相論理(modal logic) はその逆で、古典論理(classical logic) にたった1つの論理演算子を加えるだけで構築できる.  
$\Box$ 様相演算子 box は命題が「必然的」であることを表す一項演算子  
一項演算子とは命題論理(propositional logic) や論理式の前において使用する記号のことで  
使い方は否定演算子 $\neg$ の記号と同じ  

e.g.,  
$P$: 私は美人である.  
$\Box P$: 私が美人であることは絶対である(必然的である) 誰がいつ見てもどの時代においてもどんなことがあっても私は絶対的に美人である

可能的  
$\neg\Box\neg P$: 私が絶対に美人ではない,ということはない(私は美人である可能性がある)  
$\Diamond P$ 様相演算子 diamond を使って可能的を表す.  


そうすると様相論理(modal logic) においては1つの命題に次の3つの表現方法があることになる

$P$: 私は美人である.<主張的美人>  
$\Box P$: 私が美人であることは絶対である. <必然的(絶対的, 普遍的)美人> 誰がいつ見てもどの時代においてもどんなことがあっても私は絶対的に美人である  
$\Diamond P = \neg\Box\neg P$: 私は美人である可能性がある. <可能的美人>

一般化すると   
命題 $P$ はその時点で成り立つことだけを主張した命題  
命題 $\Box P$ はどんな可能世界の中でも成り立つというかなり強い条件で主張された命題  
命題 $\Diamond P = \neg\Box\neg P$ はすべての可能世界の中で少なくとも1つは成り立つ世界があるという, とても弱い条件で主張された命題  

様相論理(modal logic) の意味論  
ある命題が絶対的か可能的かの真偽については，様相論理(modal logic) にはクリプキ・フレームという概念が用意されている.

様相論理(modal logic) には選べる論理公理のタイプが複数ある.  
その中の『T』という公理系なら $\Box I  \rightarrow I$ という論理式は公理として認められている.  
$\Box I  \rightarrow I$ これは，「どんな状況でも絶対成り立つ命題ならば，今この場でも成り立つ」 という意味.  
先ほどの例で言えば  
「普遍的美人は今この場でも美人」ということ  
この体系Tを使えば  
$\Box I \wedge \Diamond O$ から $I \wedge \Diamond O$ を導くことまではできる.  
けれど, $\Diamond O$ から $O$ を導くことはできない.  
Tの双体, $O \rightarrow \Diamond O$ はある.

***
参考文献
LOGICOMIX
# 述語計算

述語計算では, 基本命題(または述語)は $P(a, b, c,\cdots)$ という形をもつ複合的対称であるとされ,   
ここで$P$はその言語の記号  
$a, b, c,\cdots$は定項または変項

例えば  
命題の記号 = 年上の  
定項 = プラトン  
x = 変項  
であるなら,  
「年上の(プラトン, x)」はプラトンがxよりも年上であることを表す, 形式規則に従って正しく形成された命題となる.  
このタイプの命題は  
ブールの論理結合子 $\vee, \wedge,  \neg$ ならびに($\rightarrow$のこと?) で結合したり  
フレーゲの $\forall x$ や, $\exists x$ といった量化子で束縛することができる.  

したがって  
「年上の(x, プラトン)が存在する」は「プラトンより年上の少なくともひとつの個体が存在する」　　

例えば  
あらゆる整数 $x$ は偶数 $x = 2y$ または奇数 $x = 2y + 1$ である  
という算術の定理は  
$$\forall x \exists y~(~x = 2y ~~or~~ x = 2y + 1~)$$

あらゆる $x$ について $x = 2y ~~or~~ x = 2y + 1$ のような $y$ が存在する.

一階述語論理 (predicate logic of first order) と呼ばれる, 厳密に定義された述語計算では, 単純な数学的対称が変項値として用いられるのに対し  
二階述語論理 (predicate logic of second order) では変項は集合でもありえ, 「集合 $S$ が存在する」 といった言明が可能になる.

より強力なこの言語は, 既知のあらゆる数学を表すことができる. 一階述語論理 (predicate logic of first order) でも二階述語論理 (predicate logic of second order) でも, 述語計算における文が真であるか偽であるかは, その文がどのようなモデルによって解釈されるかによる.  
だから, 例えば上にあげた単純な算術の定理は, 十の意味を通常のように解釈すれば自然数において真となるが, 十の記号が掛け算を示すと解釈すれば偽となる.  
しかしそうした解釈とは独立して真であるような文もあり, それは『妥当』と呼ばれる.  
これはブールの結合子と量化子の基本的性質に基づき成立する.  
クルト・ゲーデルの完全性定理は, 一階述語論理 (predicate logic of first order) における妥当性を証明するための単純かつ完全な公理体系を提供している.

$$\fbox{普通の枠 test}$$
